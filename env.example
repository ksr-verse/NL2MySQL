# NL2MySQL Environment Configuration - Groq-Only Setup
# Copy this file to .env and modify the values as needed
#
# QUICK START:
# 1. Get free Groq API key: https://console.groq.com/
# 2. Copy: cp env.example .env
# 3. Edit .env and set your GROQ_API_KEY
# 4. Run: python app.py

# Database Configuration
DB_CONNECTION_STRING=mysql+pymysql://root@localhost:3306/identityiq
DB_MAX_POOL_SIZE=10
DB_TIMEOUT=30

# LLM Configuration (Groq ONLY - Ultra-Fast AI)
LLM_PROVIDER=groq

# Groq Settings (REQUIRED)
LLM_GROQ_API_KEY=your_groq_api_key_here  # Get free key from https://console.groq.com/
LLM_GROQ_MODEL=llama-3.1-8b-instant      # Ultra-fast Llama model

# Generation Parameters
LLM_TEMPERATURE=0.1  # Lower values for more deterministic output
LLM_MAX_TOKENS=1000

# Vector Database Configuration
VECTOR_PERSIST_DIRECTORY=./chromadb
VECTOR_COLLECTIONS=pattern_to_tables,table_definitions,prompt_templates,training_examples
VECTOR_EMBEDDING_MODEL=all-MiniLM-L6-v2  # Sentence transformer model
VECTOR_TOP_K=20  # Number of relevant schema chunks to retrieve

# Application Configuration
APP_DEBUG=false
APP_LOG_LEVEL=INFO  # Options: DEBUG, INFO, WARNING, ERROR
APP_HOST=0.0.0.0
APP_PORT=8000

# Schema Files
APP_SCHEMA_FILE=schema.json
APP_MANUAL_SCHEMA_FILE=schema_manual.json

# =============================================================================
# SETUP INSTRUCTIONS
# =============================================================================

# 1. GET GROQ API KEY (FREE):
#    - Visit: https://console.groq.com/
#    - Sign up for free account
#    - Get your API key (14,400 requests/day free!)
#    - Replace 'your_groq_api_key_here' above

# 2. DATABASE SETUP:
#    - Install MySQL Server
#    - Create 'identityiq' database
#    - Update connection string with your credentials

# 3. COPY THIS FILE:
#    cp env.example .env
#    # Then edit .env with your actual values

# 4. POPULATE VECTOR DATABASE:
#    python populate_vector_db.py
#    # This will create the 4 Vector DB collections with essential IdentityIQ tables

# =============================================================================
# EXAMPLE CONNECTION STRINGS
# =============================================================================

# MySQL with username and password:
# DB_CONNECTION_STRING=mysql+pymysql://username:password@localhost:3306/identityiq

# MySQL with root user (no password):
# DB_CONNECTION_STRING=mysql+pymysql://root@localhost:3306/identityiq

# MySQL with custom port:
# DB_CONNECTION_STRING=mysql+pymysql://username:password@localhost:3307/identityiq

# Remote MySQL server:
# DB_CONNECTION_STRING=mysql+pymysql://username:password@remote-server:3306/identityiq

# Docker MySQL (using docker-compose):
# DB_CONNECTION_STRING=mysql+pymysql://root:root@mysql:3306/identityiq

# =============================================================================
# PERFORMANCE NOTES
# =============================================================================

# Groq Performance:
# - Response time: 0.3-0.5 seconds (ultra-fast!)
# - Free tier: 14,400 requests per day
# - Model: Llama-3.1-8b-instant (optimized for SQL)
# - No local GPU/CPU requirements

# Vector DB Collections:
# - pattern_to_tables: 260 natural language patterns â†’ table mappings
# - table_definitions: 86 essential IdentityIQ table definitions
# - prompt_templates: 1 MySQL expert prompt template
# - training_examples: 1 training example with 290 patterns

# System Requirements:
# - Python 3.11+
# - MySQL Server
# - Internet connection (for Groq API)
# - Minimal RAM usage (cloud-based LLM)
